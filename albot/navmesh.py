import enum
import math

from typing import Optional, Tuple

from albot.view import Location
from sr.robot import StationCode


OPTIMAL_CAPTURE_ANGLES = {
    StationCode.OX: math.radians(45),
    StationCode.BN: math.radians(315),
    StationCode.PL: math.radians(0),
    StationCode.FL: math.radians(180),
    StationCode.VB: math.radians(180),
    StationCode.SZ: math.radians(180),
    StationCode.TH: math.radians(135),
    StationCode.SF: math.radians(225),
}


class Zone(enum.Enum):
    PINK_START = 'PINK_START'
    BOTTOM_LEFT_CORNER = 'BOTTOM_LEFT_CORNER'
    BOTTOM_RIGHT_CORNER = 'BOTTOM_RIGHT_CORNER'
    BOTTOM_LEFT_LOWER = 'BOTTOM_LEFT_LOWER'
    BOTTOM_RIGHT_LOWER = 'BOTTOM_RIGHT_LOWER'
    BOTTOM_LEFT_UPPER = 'BOTTOM_LEFT_UPPER'
    BOTTOM_RIGHT_UPPER = 'BOTTOM_RIGHT_UPPER'
    BOTTOM_CENTRE_LOWER = 'BOTTOM_CENTRE_LOWER'
    BOTTOM_CENTRE_UPPER = 'BOTTOM_CENTRE_UPPER'
    YELLOW_START = 'YELLOW_START'
    PINK_TOP_CORNER = 'PINK_TOP_CORNER'
    YELLOW_TOP_CORNER = 'YELLOW_TOP_CORNER'
    TOP_CENTRE = 'TOP_CENTRE'
    TOP_LEFT = 'TOP_LEFT'
    TOP_RIGHT = 'TOP_RIGHT'
    LEFT_TRANSITION = 'LEFT_TRANSITION'
    RIGHT_TRANSITION = 'RIGHT_TRANSITION'


ZONE_CENTRES = {
    Zone.PINK_START: Location(x=-6.5, y=0),
    Zone.PINK_TOP_CORNER: Location(x=-6.5, y=3),
    Zone.BOTTOM_LEFT_CORNER: Location(x=-6.2, y=-2.75),
    Zone.YELLOW_START: Location(x=6.5, y=0),
    Zone.YELLOW_TOP_CORNER: Location(x=6.5, y=3),
    Zone.BOTTOM_RIGHT_CORNER: Location(x=6.2, y=-2.75),
    Zone.BOTTOM_CENTRE_LOWER: Location(x=0, y=-2.25),
    Zone.BOTTOM_CENTRE_UPPER: Location(x=0, y=-0.75),
    Zone.BOTTOM_LEFT_UPPER: Location(x=-2.85, y=-0.65),
    Zone.BOTTOM_RIGHT_UPPER: Location(x=2.85, y=-0.65),
    Zone.BOTTOM_LEFT_LOWER: Location(x=-2.8, y=-2.1),
    Zone.BOTTOM_RIGHT_LOWER: Location(x=2.8, y=-2.1),
    Zone.LEFT_TRANSITION: Location(x=-4.9, y=-0.45),
    Zone.RIGHT_TRANSITION: Location(x=4.9, y=-0.45),
    Zone.TOP_LEFT: Location(x=-4.9, y=1.15),
    Zone.TOP_RIGHT: Location(x=4.9, y=1.15),
    Zone.TOP_CENTRE: Location(x=0, y=1.3),
}


def get_zone(location: Location) -> Zone:
    if location.x < -5.575:
        if location.y > 2:
            return Zone.PINK_TOP_CORNER
        elif location.y < -2.6:
            return Zone.BOTTOM_LEFT_CORNER
        else:
            return Zone.PINK_START
    elif location.x < -4.35:
        if location.y > -0.2:
            return Zone.TOP_LEFT
        elif location.y > -0.9:
            return Zone.LEFT_TRANSITION
        else:
            return Zone.BOTTOM_LEFT_LOWER
    elif location.x < -3.7:
        if location.y > -0.2:
            return Zone.TOP_LEFT
        elif location.y > -0.9:
            return Zone.BOTTOM_LEFT_UPPER
        else:
            return Zone.BOTTOM_LEFT_LOWER
    elif location.x < -1.95:
        if location.y > 0:
            return Zone.TOP_CENTRE
        elif location.y > -0.8:
            return Zone.BOTTOM_LEFT_UPPER
        else:
            return Zone.BOTTOM_LEFT_LOWER
    elif location.x < 1.95:
        if location.y > 0:
            return Zone.TOP_CENTRE
        elif location.y > -1:
            return Zone.BOTTOM_CENTRE_UPPER
        else:
            return Zone.BOTTOM_CENTRE_LOWER
    elif location.x < 3.7:
        if location.y > 0:
            return Zone.TOP_CENTRE
        elif location.y > -0.8:
            return Zone.BOTTOM_RIGHT_UPPER
        else:
            return Zone.BOTTOM_RIGHT_LOWER
    elif location.x < 4.35:
        if location.y > -0.2:
            return Zone.TOP_RIGHT
        elif location.y > -0.9:
            return Zone.BOTTOM_RIGHT_UPPER
        else:
            return Zone.BOTTOM_RIGHT_LOWER
    elif location.x < 5.575:
        if location.y > -0.2:
            return Zone.TOP_RIGHT
        elif location.y > -0.9:
            return Zone.RIGHT_TRANSITION
        else:
            return Zone.BOTTOM_RIGHT_LOWER
    else:
        if location.y > 2:
            return Zone.YELLOW_TOP_CORNER
        elif location.y < -2.6:
            return Zone.BOTTOM_RIGHT_CORNER
        else:
            return Zone.YELLOW_START


ROUTING_PRE_DROP = {
    (Zone.PINK_START, Zone.PINK_TOP_CORNER): Zone.PINK_TOP_CORNER,
    (Zone.PINK_START, Zone.BOTTOM_LEFT_CORNER): Zone.BOTTOM_LEFT_CORNER,
    (Zone.PINK_START, Zone.BOTTOM_LEFT_LOWER): Zone.BOTTOM_LEFT_CORNER,
    (Zone.PINK_START, Zone.BOTTOM_CENTRE_UPPER): Zone.BOTTOM_LEFT_CORNER,
    (Zone.PINK_START, Zone.BOTTOM_CENTRE_LOWER): Zone.BOTTOM_LEFT_CORNER,
    (Zone.PINK_START, Zone.BOTTOM_LEFT_UPPER): Zone.BOTTOM_LEFT_CORNER,
    (Zone.PINK_START, Zone.BOTTOM_RIGHT_LOWER): Zone.BOTTOM_LEFT_CORNER,
    (Zone.PINK_START, Zone.BOTTOM_RIGHT_UPPER): Zone.BOTTOM_LEFT_CORNER,
    (Zone.PINK_START, Zone.LEFT_TRANSITION): Zone.BOTTOM_LEFT_CORNER,
    (Zone.PINK_START, Zone.BOTTOM_RIGHT_CORNER): Zone.BOTTOM_LEFT_CORNER,
    (Zone.PINK_START, Zone.RIGHT_TRANSITION): Zone.BOTTOM_LEFT_CORNER,
    (Zone.PINK_START, Zone.TOP_LEFT): Zone.BOTTOM_LEFT_CORNER,
    (Zone.PINK_START, Zone.YELLOW_START): Zone.BOTTOM_LEFT_CORNER,
    (Zone.PINK_START, Zone.TOP_RIGHT): Zone.BOTTOM_LEFT_CORNER,
    (Zone.PINK_START, Zone.TOP_CENTRE): Zone.BOTTOM_LEFT_CORNER,
    (Zone.PINK_START, Zone.YELLOW_TOP_CORNER): Zone.BOTTOM_LEFT_CORNER,
    (Zone.PINK_TOP_CORNER, Zone.PINK_START): Zone.PINK_START,
    (Zone.PINK_TOP_CORNER, Zone.BOTTOM_LEFT_CORNER): Zone.PINK_START,
    (Zone.PINK_TOP_CORNER, Zone.BOTTOM_LEFT_LOWER): Zone.PINK_START,
    (Zone.PINK_TOP_CORNER, Zone.BOTTOM_CENTRE_UPPER): Zone.PINK_START,
    (Zone.PINK_TOP_CORNER, Zone.BOTTOM_CENTRE_LOWER): Zone.PINK_START,
    (Zone.PINK_TOP_CORNER, Zone.BOTTOM_LEFT_UPPER): Zone.PINK_START,
    (Zone.PINK_TOP_CORNER, Zone.BOTTOM_RIGHT_LOWER): Zone.PINK_START,
    (Zone.PINK_TOP_CORNER, Zone.BOTTOM_RIGHT_UPPER): Zone.PINK_START,
    (Zone.PINK_TOP_CORNER, Zone.LEFT_TRANSITION): Zone.PINK_START,
    (Zone.PINK_TOP_CORNER, Zone.BOTTOM_RIGHT_CORNER): Zone.PINK_START,
    (Zone.PINK_TOP_CORNER, Zone.RIGHT_TRANSITION): Zone.PINK_START,
    (Zone.PINK_TOP_CORNER, Zone.TOP_LEFT): Zone.PINK_START,
    (Zone.PINK_TOP_CORNER, Zone.YELLOW_START): Zone.PINK_START,
    (Zone.PINK_TOP_CORNER, Zone.TOP_RIGHT): Zone.PINK_START,
    (Zone.PINK_TOP_CORNER, Zone.TOP_CENTRE): Zone.PINK_START,
    (Zone.PINK_TOP_CORNER, Zone.YELLOW_TOP_CORNER): Zone.PINK_START,
    (Zone.BOTTOM_LEFT_CORNER, Zone.PINK_START): Zone.PINK_START,
    (Zone.BOTTOM_LEFT_CORNER, Zone.BOTTOM_LEFT_LOWER): Zone.BOTTOM_LEFT_LOWER,
    (Zone.BOTTOM_LEFT_CORNER, Zone.PINK_TOP_CORNER): Zone.PINK_START,
    (Zone.BOTTOM_LEFT_CORNER, Zone.BOTTOM_CENTRE_UPPER): Zone.BOTTOM_LEFT_LOWER,
    (Zone.BOTTOM_LEFT_CORNER, Zone.BOTTOM_CENTRE_LOWER): Zone.BOTTOM_LEFT_LOWER,
    (Zone.BOTTOM_LEFT_CORNER, Zone.BOTTOM_LEFT_UPPER): Zone.BOTTOM_LEFT_LOWER,
    (Zone.BOTTOM_LEFT_CORNER, Zone.BOTTOM_RIGHT_LOWER): Zone.BOTTOM_LEFT_LOWER,
    (Zone.BOTTOM_LEFT_CORNER, Zone.BOTTOM_RIGHT_UPPER): Zone.BOTTOM_LEFT_LOWER,
    (Zone.BOTTOM_LEFT_CORNER, Zone.LEFT_TRANSITION): Zone.BOTTOM_LEFT_LOWER,
    (Zone.BOTTOM_LEFT_CORNER, Zone.BOTTOM_RIGHT_CORNER): Zone.BOTTOM_LEFT_LOWER,
    (Zone.BOTTOM_LEFT_CORNER, Zone.RIGHT_TRANSITION): Zone.BOTTOM_LEFT_LOWER,
    (Zone.BOTTOM_LEFT_CORNER, Zone.TOP_LEFT): Zone.BOTTOM_LEFT_LOWER,
    (Zone.BOTTOM_LEFT_CORNER, Zone.YELLOW_START): Zone.BOTTOM_LEFT_LOWER,
    (Zone.BOTTOM_LEFT_CORNER, Zone.TOP_RIGHT): Zone.BOTTOM_LEFT_LOWER,
    (Zone.BOTTOM_LEFT_CORNER, Zone.TOP_CENTRE): Zone.BOTTOM_LEFT_LOWER,
    (Zone.BOTTOM_LEFT_CORNER, Zone.YELLOW_TOP_CORNER): Zone.BOTTOM_LEFT_LOWER,
    (Zone.YELLOW_START, Zone.BOTTOM_RIGHT_CORNER): Zone.BOTTOM_RIGHT_CORNER,
    (Zone.YELLOW_START, Zone.YELLOW_TOP_CORNER): Zone.YELLOW_TOP_CORNER,
    (Zone.YELLOW_START, Zone.BOTTOM_RIGHT_LOWER): Zone.BOTTOM_RIGHT_CORNER,
    (Zone.YELLOW_START, Zone.BOTTOM_CENTRE_UPPER): Zone.BOTTOM_RIGHT_CORNER,
    (Zone.YELLOW_START, Zone.BOTTOM_RIGHT_UPPER): Zone.BOTTOM_RIGHT_CORNER,
    (Zone.YELLOW_START, Zone.BOTTOM_LEFT_LOWER): Zone.BOTTOM_RIGHT_CORNER,
    (Zone.YELLOW_START, Zone.BOTTOM_CENTRE_LOWER): Zone.BOTTOM_RIGHT_CORNER,
    (Zone.YELLOW_START, Zone.BOTTOM_LEFT_UPPER): Zone.BOTTOM_RIGHT_CORNER,
    (Zone.YELLOW_START, Zone.RIGHT_TRANSITION): Zone.BOTTOM_RIGHT_CORNER,
    (Zone.YELLOW_START, Zone.BOTTOM_LEFT_CORNER): Zone.BOTTOM_RIGHT_CORNER,
    (Zone.YELLOW_START, Zone.LEFT_TRANSITION): Zone.BOTTOM_RIGHT_CORNER,
    (Zone.YELLOW_START, Zone.TOP_RIGHT): Zone.BOTTOM_RIGHT_CORNER,
    (Zone.YELLOW_START, Zone.PINK_START): Zone.BOTTOM_RIGHT_CORNER,
    (Zone.YELLOW_START, Zone.TOP_LEFT): Zone.BOTTOM_RIGHT_CORNER,
    (Zone.YELLOW_START, Zone.TOP_CENTRE): Zone.BOTTOM_RIGHT_CORNER,
    (Zone.YELLOW_START, Zone.PINK_TOP_CORNER): Zone.BOTTOM_RIGHT_CORNER,
    (Zone.BOTTOM_RIGHT_CORNER, Zone.YELLOW_START): Zone.YELLOW_START,
    (Zone.BOTTOM_RIGHT_CORNER, Zone.BOTTOM_RIGHT_LOWER): Zone.BOTTOM_RIGHT_LOWER,
    (Zone.BOTTOM_RIGHT_CORNER, Zone.YELLOW_TOP_CORNER): Zone.YELLOW_START,
    (Zone.BOTTOM_RIGHT_CORNER, Zone.BOTTOM_CENTRE_UPPER): Zone.BOTTOM_RIGHT_LOWER,
    (Zone.BOTTOM_RIGHT_CORNER, Zone.BOTTOM_RIGHT_UPPER): Zone.BOTTOM_RIGHT_LOWER,
    (Zone.BOTTOM_RIGHT_CORNER, Zone.BOTTOM_LEFT_LOWER): Zone.BOTTOM_RIGHT_LOWER,
    (Zone.BOTTOM_RIGHT_CORNER, Zone.BOTTOM_CENTRE_LOWER): Zone.BOTTOM_RIGHT_LOWER,
    (Zone.BOTTOM_RIGHT_CORNER, Zone.BOTTOM_LEFT_UPPER): Zone.BOTTOM_RIGHT_LOWER,
    (Zone.BOTTOM_RIGHT_CORNER, Zone.RIGHT_TRANSITION): Zone.BOTTOM_RIGHT_LOWER,
    (Zone.BOTTOM_RIGHT_CORNER, Zone.BOTTOM_LEFT_CORNER): Zone.BOTTOM_RIGHT_LOWER,
    (Zone.BOTTOM_RIGHT_CORNER, Zone.LEFT_TRANSITION): Zone.BOTTOM_RIGHT_LOWER,
    (Zone.BOTTOM_RIGHT_CORNER, Zone.TOP_RIGHT): Zone.BOTTOM_RIGHT_LOWER,
    (Zone.BOTTOM_RIGHT_CORNER, Zone.PINK_START): Zone.BOTTOM_RIGHT_LOWER,
    (Zone.BOTTOM_RIGHT_CORNER, Zone.TOP_LEFT): Zone.BOTTOM_RIGHT_LOWER,
    (Zone.BOTTOM_RIGHT_CORNER, Zone.TOP_CENTRE): Zone.BOTTOM_RIGHT_LOWER,
    (Zone.BOTTOM_RIGHT_CORNER, Zone.PINK_TOP_CORNER): Zone.BOTTOM_RIGHT_LOWER,
    (Zone.YELLOW_TOP_CORNER, Zone.YELLOW_START): Zone.YELLOW_START,
    (Zone.YELLOW_TOP_CORNER, Zone.BOTTOM_RIGHT_CORNER): Zone.YELLOW_START,
    (Zone.YELLOW_TOP_CORNER, Zone.BOTTOM_RIGHT_LOWER): Zone.YELLOW_START,
    (Zone.YELLOW_TOP_CORNER, Zone.BOTTOM_CENTRE_UPPER): Zone.YELLOW_START,
    (Zone.YELLOW_TOP_CORNER, Zone.BOTTOM_RIGHT_UPPER): Zone.YELLOW_START,
    (Zone.YELLOW_TOP_CORNER, Zone.BOTTOM_LEFT_LOWER): Zone.YELLOW_START,
    (Zone.YELLOW_TOP_CORNER, Zone.BOTTOM_CENTRE_LOWER): Zone.YELLOW_START,
    (Zone.YELLOW_TOP_CORNER, Zone.BOTTOM_LEFT_UPPER): Zone.YELLOW_START,
    (Zone.YELLOW_TOP_CORNER, Zone.RIGHT_TRANSITION): Zone.YELLOW_START,
    (Zone.YELLOW_TOP_CORNER, Zone.BOTTOM_LEFT_CORNER): Zone.YELLOW_START,
    (Zone.YELLOW_TOP_CORNER, Zone.LEFT_TRANSITION): Zone.YELLOW_START,
    (Zone.YELLOW_TOP_CORNER, Zone.TOP_RIGHT): Zone.YELLOW_START,
    (Zone.YELLOW_TOP_CORNER, Zone.PINK_START): Zone.YELLOW_START,
    (Zone.YELLOW_TOP_CORNER, Zone.TOP_LEFT): Zone.YELLOW_START,
    (Zone.YELLOW_TOP_CORNER, Zone.TOP_CENTRE): Zone.YELLOW_START,
    (Zone.YELLOW_TOP_CORNER, Zone.PINK_TOP_CORNER): Zone.YELLOW_START,
    (Zone.BOTTOM_CENTRE_UPPER, Zone.BOTTOM_LEFT_LOWER): Zone.BOTTOM_LEFT_LOWER,
    (Zone.BOTTOM_CENTRE_UPPER, Zone.BOTTOM_RIGHT_LOWER): Zone.BOTTOM_RIGHT_LOWER,
    (Zone.BOTTOM_CENTRE_UPPER, Zone.BOTTOM_CENTRE_LOWER): Zone.BOTTOM_CENTRE_LOWER,
    (Zone.BOTTOM_CENTRE_UPPER, Zone.BOTTOM_LEFT_UPPER): Zone.BOTTOM_LEFT_UPPER,
    (Zone.BOTTOM_CENTRE_UPPER, Zone.BOTTOM_RIGHT_UPPER): Zone.BOTTOM_RIGHT_UPPER,
    (Zone.BOTTOM_CENTRE_UPPER, Zone.BOTTOM_LEFT_CORNER): Zone.BOTTOM_LEFT_LOWER,
    (Zone.BOTTOM_CENTRE_UPPER, Zone.BOTTOM_RIGHT_CORNER): Zone.BOTTOM_RIGHT_LOWER,
    (Zone.BOTTOM_CENTRE_UPPER, Zone.LEFT_TRANSITION): Zone.BOTTOM_LEFT_UPPER,
    (Zone.BOTTOM_CENTRE_UPPER, Zone.RIGHT_TRANSITION): Zone.BOTTOM_RIGHT_UPPER,
    (Zone.BOTTOM_CENTRE_UPPER, Zone.PINK_START): Zone.BOTTOM_LEFT_LOWER,
    (Zone.BOTTOM_CENTRE_UPPER, Zone.YELLOW_START): Zone.BOTTOM_RIGHT_LOWER,
    (Zone.BOTTOM_CENTRE_UPPER, Zone.TOP_LEFT): Zone.BOTTOM_LEFT_UPPER,
    (Zone.BOTTOM_CENTRE_UPPER, Zone.TOP_RIGHT): Zone.BOTTOM_RIGHT_UPPER,
    (Zone.BOTTOM_CENTRE_UPPER, Zone.PINK_TOP_CORNER): Zone.BOTTOM_LEFT_LOWER,
    (Zone.BOTTOM_CENTRE_UPPER, Zone.YELLOW_TOP_CORNER): Zone.BOTTOM_RIGHT_LOWER,
    (Zone.BOTTOM_CENTRE_UPPER, Zone.TOP_CENTRE): Zone.BOTTOM_LEFT_UPPER,
    (Zone.BOTTOM_LEFT_LOWER, Zone.BOTTOM_CENTRE_UPPER): Zone.BOTTOM_CENTRE_UPPER,
    (Zone.BOTTOM_LEFT_LOWER, Zone.BOTTOM_CENTRE_LOWER): Zone.BOTTOM_CENTRE_LOWER,
    (Zone.BOTTOM_LEFT_LOWER, Zone.BOTTOM_LEFT_UPPER): Zone.BOTTOM_LEFT_UPPER,
    (Zone.BOTTOM_LEFT_LOWER, Zone.BOTTOM_LEFT_CORNER): Zone.BOTTOM_LEFT_CORNER,
    (Zone.BOTTOM_LEFT_LOWER, Zone.BOTTOM_RIGHT_LOWER): Zone.BOTTOM_CENTRE_UPPER,
    (Zone.BOTTOM_LEFT_LOWER, Zone.BOTTOM_RIGHT_UPPER): Zone.BOTTOM_CENTRE_UPPER,
    (Zone.BOTTOM_LEFT_LOWER, Zone.LEFT_TRANSITION): Zone.BOTTOM_LEFT_UPPER,
    (Zone.BOTTOM_LEFT_LOWER, Zone.PINK_START): Zone.BOTTOM_LEFT_CORNER,
    (Zone.BOTTOM_LEFT_LOWER, Zone.BOTTOM_RIGHT_CORNER): Zone.BOTTOM_CENTRE_UPPER,
    (Zone.BOTTOM_LEFT_LOWER, Zone.RIGHT_TRANSITION): Zone.BOTTOM_CENTRE_UPPER,
    (Zone.BOTTOM_LEFT_LOWER, Zone.TOP_LEFT): Zone.BOTTOM_LEFT_UPPER,
    (Zone.BOTTOM_LEFT_LOWER, Zone.PINK_TOP_CORNER): Zone.BOTTOM_LEFT_CORNER,
    (Zone.BOTTOM_LEFT_LOWER, Zone.YELLOW_START): Zone.BOTTOM_CENTRE_UPPER,
    (Zone.BOTTOM_LEFT_LOWER, Zone.TOP_RIGHT): Zone.BOTTOM_CENTRE_UPPER,
    (Zone.BOTTOM_LEFT_LOWER, Zone.TOP_CENTRE): Zone.BOTTOM_LEFT_UPPER,
    (Zone.BOTTOM_LEFT_LOWER, Zone.YELLOW_TOP_CORNER): Zone.BOTTOM_CENTRE_UPPER,
    (Zone.BOTTOM_RIGHT_LOWER, Zone.BOTTOM_CENTRE_UPPER): Zone.BOTTOM_CENTRE_UPPER,
    (Zone.BOTTOM_RIGHT_LOWER, Zone.BOTTOM_RIGHT_UPPER): Zone.BOTTOM_RIGHT_UPPER,
    (Zone.BOTTOM_RIGHT_LOWER, Zone.BOTTOM_RIGHT_CORNER): Zone.BOTTOM_RIGHT_CORNER,
    (Zone.BOTTOM_RIGHT_LOWER, Zone.BOTTOM_LEFT_LOWER): Zone.BOTTOM_CENTRE_UPPER,
    (Zone.BOTTOM_RIGHT_LOWER, Zone.BOTTOM_CENTRE_LOWER): Zone.BOTTOM_CENTRE_UPPER,
    (Zone.BOTTOM_RIGHT_LOWER, Zone.BOTTOM_LEFT_UPPER): Zone.BOTTOM_CENTRE_UPPER,
    (Zone.BOTTOM_RIGHT_LOWER, Zone.RIGHT_TRANSITION): Zone.BOTTOM_RIGHT_UPPER,
    (Zone.BOTTOM_RIGHT_LOWER, Zone.YELLOW_START): Zone.BOTTOM_RIGHT_CORNER,
    (Zone.BOTTOM_RIGHT_LOWER, Zone.BOTTOM_LEFT_CORNER): Zone.BOTTOM_CENTRE_UPPER,
    (Zone.BOTTOM_RIGHT_LOWER, Zone.LEFT_TRANSITION): Zone.BOTTOM_CENTRE_UPPER,
    (Zone.BOTTOM_RIGHT_LOWER, Zone.TOP_RIGHT): Zone.BOTTOM_RIGHT_UPPER,
    (Zone.BOTTOM_RIGHT_LOWER, Zone.YELLOW_TOP_CORNER): Zone.BOTTOM_RIGHT_CORNER,
    (Zone.BOTTOM_RIGHT_LOWER, Zone.PINK_START): Zone.BOTTOM_CENTRE_UPPER,
    (Zone.BOTTOM_RIGHT_LOWER, Zone.TOP_LEFT): Zone.BOTTOM_CENTRE_UPPER,
    (Zone.BOTTOM_RIGHT_LOWER, Zone.TOP_CENTRE): Zone.BOTTOM_RIGHT_UPPER,
    (Zone.BOTTOM_RIGHT_LOWER, Zone.PINK_TOP_CORNER): Zone.BOTTOM_CENTRE_UPPER,
    (Zone.BOTTOM_CENTRE_LOWER, Zone.BOTTOM_LEFT_LOWER): Zone.BOTTOM_LEFT_LOWER,
    (Zone.BOTTOM_CENTRE_LOWER, Zone.BOTTOM_LEFT_UPPER): Zone.BOTTOM_LEFT_UPPER,
    (Zone.BOTTOM_CENTRE_LOWER, Zone.BOTTOM_RIGHT_UPPER): Zone.BOTTOM_RIGHT_UPPER,
    (Zone.BOTTOM_CENTRE_LOWER, Zone.BOTTOM_CENTRE_UPPER): Zone.BOTTOM_CENTRE_UPPER,
    (Zone.BOTTOM_CENTRE_LOWER, Zone.BOTTOM_LEFT_CORNER): Zone.BOTTOM_LEFT_LOWER,
    (Zone.BOTTOM_CENTRE_LOWER, Zone.LEFT_TRANSITION): Zone.BOTTOM_LEFT_UPPER,
    (Zone.BOTTOM_CENTRE_LOWER, Zone.BOTTOM_RIGHT_LOWER): Zone.BOTTOM_RIGHT_UPPER,
    (Zone.BOTTOM_CENTRE_LOWER, Zone.RIGHT_TRANSITION): Zone.BOTTOM_RIGHT_UPPER,
    (Zone.BOTTOM_CENTRE_LOWER, Zone.PINK_START): Zone.BOTTOM_LEFT_LOWER,
    (Zone.BOTTOM_CENTRE_LOWER, Zone.TOP_LEFT): Zone.BOTTOM_LEFT_UPPER,
    (Zone.BOTTOM_CENTRE_LOWER, Zone.BOTTOM_RIGHT_CORNER): Zone.BOTTOM_RIGHT_UPPER,
    (Zone.BOTTOM_CENTRE_LOWER, Zone.TOP_RIGHT): Zone.BOTTOM_RIGHT_UPPER,
    (Zone.BOTTOM_CENTRE_LOWER, Zone.PINK_TOP_CORNER): Zone.BOTTOM_LEFT_LOWER,
    (Zone.BOTTOM_CENTRE_LOWER, Zone.TOP_CENTRE): Zone.BOTTOM_LEFT_UPPER,
    (Zone.BOTTOM_CENTRE_LOWER, Zone.YELLOW_START): Zone.BOTTOM_RIGHT_UPPER,
    (Zone.BOTTOM_CENTRE_LOWER, Zone.YELLOW_TOP_CORNER): Zone.BOTTOM_RIGHT_UPPER,
    (Zone.BOTTOM_LEFT_UPPER, Zone.BOTTOM_LEFT_LOWER): Zone.BOTTOM_LEFT_LOWER,
    (Zone.BOTTOM_LEFT_UPPER, Zone.BOTTOM_CENTRE_LOWER): Zone.BOTTOM_CENTRE_LOWER,
    (Zone.BOTTOM_LEFT_UPPER, Zone.LEFT_TRANSITION): Zone.LEFT_TRANSITION,
    (Zone.BOTTOM_LEFT_UPPER, Zone.BOTTOM_CENTRE_UPPER): Zone.BOTTOM_CENTRE_UPPER,
    (Zone.BOTTOM_LEFT_UPPER, Zone.BOTTOM_LEFT_CORNER): Zone.BOTTOM_LEFT_LOWER,
    (Zone.BOTTOM_LEFT_UPPER, Zone.BOTTOM_RIGHT_UPPER): Zone.BOTTOM_CENTRE_LOWER,
    (Zone.BOTTOM_LEFT_UPPER, Zone.TOP_LEFT): Zone.LEFT_TRANSITION,
    (Zone.BOTTOM_LEFT_UPPER, Zone.BOTTOM_RIGHT_LOWER): Zone.BOTTOM_CENTRE_UPPER,
    (Zone.BOTTOM_LEFT_UPPER, Zone.PINK_START): Zone.BOTTOM_LEFT_LOWER,
    (Zone.BOTTOM_LEFT_UPPER, Zone.RIGHT_TRANSITION): Zone.BOTTOM_CENTRE_LOWER,
    (Zone.BOTTOM_LEFT_UPPER, Zone.TOP_CENTRE): Zone.LEFT_TRANSITION,
    (Zone.BOTTOM_LEFT_UPPER, Zone.BOTTOM_RIGHT_CORNER): Zone.BOTTOM_CENTRE_UPPER,
    (Zone.BOTTOM_LEFT_UPPER, Zone.PINK_TOP_CORNER): Zone.BOTTOM_LEFT_LOWER,
    (Zone.BOTTOM_LEFT_UPPER, Zone.TOP_RIGHT): Zone.BOTTOM_CENTRE_LOWER,
    (Zone.BOTTOM_LEFT_UPPER, Zone.YELLOW_START): Zone.BOTTOM_CENTRE_UPPER,
    (Zone.BOTTOM_LEFT_UPPER, Zone.YELLOW_TOP_CORNER): Zone.BOTTOM_CENTRE_UPPER,
    (Zone.BOTTOM_RIGHT_UPPER, Zone.BOTTOM_RIGHT_LOWER): Zone.BOTTOM_RIGHT_LOWER,
    (Zone.BOTTOM_RIGHT_UPPER, Zone.BOTTOM_CENTRE_LOWER): Zone.BOTTOM_CENTRE_LOWER,
    (Zone.BOTTOM_RIGHT_UPPER, Zone.RIGHT_TRANSITION): Zone.RIGHT_TRANSITION,
    (Zone.BOTTOM_RIGHT_UPPER, Zone.BOTTOM_CENTRE_UPPER): Zone.BOTTOM_CENTRE_UPPER,
    (Zone.BOTTOM_RIGHT_UPPER, Zone.BOTTOM_RIGHT_CORNER): Zone.BOTTOM_RIGHT_LOWER,
    (Zone.BOTTOM_RIGHT_UPPER, Zone.BOTTOM_LEFT_LOWER): Zone.BOTTOM_CENTRE_LOWER,
    (Zone.BOTTOM_RIGHT_UPPER, Zone.BOTTOM_LEFT_UPPER): Zone.BOTTOM_CENTRE_LOWER,
    (Zone.BOTTOM_RIGHT_UPPER, Zone.TOP_RIGHT): Zone.RIGHT_TRANSITION,
    (Zone.BOTTOM_RIGHT_UPPER, Zone.YELLOW_START): Zone.BOTTOM_RIGHT_LOWER,
    (Zone.BOTTOM_RIGHT_UPPER, Zone.BOTTOM_LEFT_CORNER): Zone.BOTTOM_CENTRE_LOWER,
    (Zone.BOTTOM_RIGHT_UPPER, Zone.LEFT_TRANSITION): Zone.BOTTOM_CENTRE_LOWER,
    (Zone.BOTTOM_RIGHT_UPPER, Zone.TOP_CENTRE): Zone.RIGHT_TRANSITION,
    (Zone.BOTTOM_RIGHT_UPPER, Zone.YELLOW_TOP_CORNER): Zone.BOTTOM_RIGHT_LOWER,
    (Zone.BOTTOM_RIGHT_UPPER, Zone.PINK_START): Zone.BOTTOM_CENTRE_LOWER,
    (Zone.BOTTOM_RIGHT_UPPER, Zone.TOP_LEFT): Zone.BOTTOM_CENTRE_LOWER,
    (Zone.BOTTOM_RIGHT_UPPER, Zone.PINK_TOP_CORNER): Zone.BOTTOM_CENTRE_LOWER,
    (Zone.LEFT_TRANSITION, Zone.BOTTOM_LEFT_UPPER): Zone.BOTTOM_LEFT_UPPER,
    (Zone.LEFT_TRANSITION, Zone.TOP_LEFT): Zone.TOP_LEFT,
    (Zone.LEFT_TRANSITION, Zone.BOTTOM_LEFT_LOWER): Zone.BOTTOM_LEFT_UPPER,
    (Zone.LEFT_TRANSITION, Zone.BOTTOM_CENTRE_LOWER): Zone.BOTTOM_LEFT_UPPER,
    (Zone.LEFT_TRANSITION, Zone.BOTTOM_CENTRE_UPPER): Zone.BOTTOM_LEFT_UPPER,
    (Zone.LEFT_TRANSITION, Zone.TOP_CENTRE): Zone.TOP_LEFT,
    (Zone.LEFT_TRANSITION, Zone.BOTTOM_LEFT_CORNER): Zone.BOTTOM_LEFT_UPPER,
    (Zone.LEFT_TRANSITION, Zone.BOTTOM_RIGHT_UPPER): Zone.BOTTOM_LEFT_UPPER,
    (Zone.LEFT_TRANSITION, Zone.BOTTOM_RIGHT_LOWER): Zone.BOTTOM_LEFT_UPPER,
    (Zone.LEFT_TRANSITION, Zone.TOP_RIGHT): Zone.TOP_LEFT,
    (Zone.LEFT_TRANSITION, Zone.PINK_START): Zone.BOTTOM_LEFT_UPPER,
    (Zone.LEFT_TRANSITION, Zone.RIGHT_TRANSITION): Zone.BOTTOM_LEFT_UPPER,
    (Zone.LEFT_TRANSITION, Zone.BOTTOM_RIGHT_CORNER): Zone.BOTTOM_LEFT_UPPER,
    (Zone.LEFT_TRANSITION, Zone.PINK_TOP_CORNER): Zone.BOTTOM_LEFT_UPPER,
    (Zone.LEFT_TRANSITION, Zone.YELLOW_START): Zone.BOTTOM_LEFT_UPPER,
    (Zone.LEFT_TRANSITION, Zone.YELLOW_TOP_CORNER): Zone.BOTTOM_LEFT_UPPER,
    (Zone.RIGHT_TRANSITION, Zone.BOTTOM_RIGHT_UPPER): Zone.BOTTOM_RIGHT_UPPER,
    (Zone.RIGHT_TRANSITION, Zone.TOP_RIGHT): Zone.TOP_RIGHT,
    (Zone.RIGHT_TRANSITION, Zone.BOTTOM_RIGHT_LOWER): Zone.BOTTOM_RIGHT_UPPER,
    (Zone.RIGHT_TRANSITION, Zone.BOTTOM_CENTRE_LOWER): Zone.BOTTOM_RIGHT_UPPER,
    (Zone.RIGHT_TRANSITION, Zone.BOTTOM_CENTRE_UPPER): Zone.BOTTOM_RIGHT_UPPER,
    (Zone.RIGHT_TRANSITION, Zone.TOP_CENTRE): Zone.TOP_RIGHT,
    (Zone.RIGHT_TRANSITION, Zone.BOTTOM_RIGHT_CORNER): Zone.BOTTOM_RIGHT_UPPER,
    (Zone.RIGHT_TRANSITION, Zone.BOTTOM_LEFT_LOWER): Zone.BOTTOM_RIGHT_UPPER,
    (Zone.RIGHT_TRANSITION, Zone.BOTTOM_LEFT_UPPER): Zone.BOTTOM_RIGHT_UPPER,
    (Zone.RIGHT_TRANSITION, Zone.TOP_LEFT): Zone.TOP_RIGHT,
    (Zone.RIGHT_TRANSITION, Zone.YELLOW_START): Zone.BOTTOM_RIGHT_UPPER,
    (Zone.RIGHT_TRANSITION, Zone.BOTTOM_LEFT_CORNER): Zone.BOTTOM_RIGHT_UPPER,
    (Zone.RIGHT_TRANSITION, Zone.LEFT_TRANSITION): Zone.BOTTOM_RIGHT_UPPER,
    (Zone.RIGHT_TRANSITION, Zone.YELLOW_TOP_CORNER): Zone.BOTTOM_RIGHT_UPPER,
    (Zone.RIGHT_TRANSITION, Zone.PINK_START): Zone.BOTTOM_RIGHT_UPPER,
    (Zone.RIGHT_TRANSITION, Zone.PINK_TOP_CORNER): Zone.BOTTOM_RIGHT_UPPER,
    (Zone.TOP_LEFT, Zone.LEFT_TRANSITION): Zone.LEFT_TRANSITION,
    (Zone.TOP_LEFT, Zone.TOP_CENTRE): Zone.TOP_CENTRE,
    (Zone.TOP_LEFT, Zone.BOTTOM_LEFT_UPPER): Zone.LEFT_TRANSITION,
    (Zone.TOP_LEFT, Zone.TOP_RIGHT): Zone.TOP_CENTRE,
    (Zone.TOP_LEFT, Zone.BOTTOM_LEFT_LOWER): Zone.LEFT_TRANSITION,
    (Zone.TOP_LEFT, Zone.BOTTOM_CENTRE_LOWER): Zone.LEFT_TRANSITION,
    (Zone.TOP_LEFT, Zone.BOTTOM_CENTRE_UPPER): Zone.LEFT_TRANSITION,
    (Zone.TOP_LEFT, Zone.RIGHT_TRANSITION): Zone.TOP_CENTRE,
    (Zone.TOP_LEFT, Zone.BOTTOM_LEFT_CORNER): Zone.LEFT_TRANSITION,
    (Zone.TOP_LEFT, Zone.BOTTOM_RIGHT_UPPER): Zone.LEFT_TRANSITION,
    (Zone.TOP_LEFT, Zone.BOTTOM_RIGHT_LOWER): Zone.LEFT_TRANSITION,
    (Zone.TOP_LEFT, Zone.PINK_START): Zone.LEFT_TRANSITION,
    (Zone.TOP_LEFT, Zone.BOTTOM_RIGHT_CORNER): Zone.LEFT_TRANSITION,
    (Zone.TOP_LEFT, Zone.PINK_TOP_CORNER): Zone.LEFT_TRANSITION,
    (Zone.TOP_LEFT, Zone.YELLOW_START): Zone.LEFT_TRANSITION,
    (Zone.TOP_LEFT, Zone.YELLOW_TOP_CORNER): Zone.LEFT_TRANSITION,
    (Zone.TOP_RIGHT, Zone.RIGHT_TRANSITION): Zone.RIGHT_TRANSITION,
    (Zone.TOP_RIGHT, Zone.TOP_CENTRE): Zone.TOP_CENTRE,
    (Zone.TOP_RIGHT, Zone.BOTTOM_RIGHT_UPPER): Zone.RIGHT_TRANSITION,
    (Zone.TOP_RIGHT, Zone.TOP_LEFT): Zone.TOP_CENTRE,
    (Zone.TOP_RIGHT, Zone.BOTTOM_RIGHT_LOWER): Zone.RIGHT_TRANSITION,
    (Zone.TOP_RIGHT, Zone.BOTTOM_CENTRE_LOWER): Zone.RIGHT_TRANSITION,
    (Zone.TOP_RIGHT, Zone.BOTTOM_CENTRE_UPPER): Zone.RIGHT_TRANSITION,
    (Zone.TOP_RIGHT, Zone.LEFT_TRANSITION): Zone.TOP_CENTRE,
    (Zone.TOP_RIGHT, Zone.BOTTOM_RIGHT_CORNER): Zone.RIGHT_TRANSITION,
    (Zone.TOP_RIGHT, Zone.BOTTOM_LEFT_LOWER): Zone.RIGHT_TRANSITION,
    (Zone.TOP_RIGHT, Zone.BOTTOM_LEFT_UPPER): Zone.RIGHT_TRANSITION,
    (Zone.TOP_RIGHT, Zone.YELLOW_START): Zone.RIGHT_TRANSITION,
    (Zone.TOP_RIGHT, Zone.BOTTOM_LEFT_CORNER): Zone.RIGHT_TRANSITION,
    (Zone.TOP_RIGHT, Zone.YELLOW_TOP_CORNER): Zone.RIGHT_TRANSITION,
    (Zone.TOP_RIGHT, Zone.PINK_START): Zone.RIGHT_TRANSITION,
    (Zone.TOP_RIGHT, Zone.PINK_TOP_CORNER): Zone.RIGHT_TRANSITION,
    (Zone.TOP_CENTRE, Zone.TOP_LEFT): Zone.TOP_LEFT,
    (Zone.TOP_CENTRE, Zone.TOP_RIGHT): Zone.TOP_RIGHT,
    (Zone.TOP_CENTRE, Zone.LEFT_TRANSITION): Zone.TOP_LEFT,
    (Zone.TOP_CENTRE, Zone.RIGHT_TRANSITION): Zone.TOP_RIGHT,
    (Zone.TOP_CENTRE, Zone.BOTTOM_LEFT_UPPER): Zone.TOP_LEFT,
    (Zone.TOP_CENTRE, Zone.BOTTOM_RIGHT_UPPER): Zone.TOP_RIGHT,
    (Zone.TOP_CENTRE, Zone.BOTTOM_LEFT_LOWER): Zone.TOP_LEFT,
    (Zone.TOP_CENTRE, Zone.BOTTOM_CENTRE_LOWER): Zone.TOP_LEFT,
    (Zone.TOP_CENTRE, Zone.BOTTOM_CENTRE_UPPER): Zone.TOP_LEFT,
    (Zone.TOP_CENTRE, Zone.BOTTOM_RIGHT_LOWER): Zone.TOP_RIGHT,
    (Zone.TOP_CENTRE, Zone.BOTTOM_LEFT_CORNER): Zone.TOP_LEFT,
    (Zone.TOP_CENTRE, Zone.BOTTOM_RIGHT_CORNER): Zone.TOP_RIGHT,
    (Zone.TOP_CENTRE, Zone.PINK_START): Zone.TOP_LEFT,
    (Zone.TOP_CENTRE, Zone.YELLOW_START): Zone.TOP_RIGHT,
    (Zone.TOP_CENTRE, Zone.PINK_TOP_CORNER): Zone.TOP_LEFT,
    (Zone.TOP_CENTRE, Zone.YELLOW_TOP_CORNER): Zone.TOP_RIGHT,
}

ROUTING_POST_DROP = {
    (Zone.PINK_START, Zone.PINK_TOP_CORNER): Zone.PINK_TOP_CORNER,
    (Zone.PINK_START, Zone.BOTTOM_LEFT_CORNER): Zone.BOTTOM_LEFT_CORNER,
    (Zone.PINK_START, Zone.LEFT_TRANSITION): Zone.LEFT_TRANSITION,
    (Zone.PINK_START, Zone.TOP_LEFT): Zone.TOP_LEFT,
    (Zone.PINK_START, Zone.BOTTOM_LEFT_LOWER): Zone.BOTTOM_LEFT_CORNER,
    (Zone.PINK_START, Zone.BOTTOM_LEFT_UPPER): Zone.BOTTOM_LEFT_CORNER,
    (Zone.PINK_START, Zone.TOP_CENTRE): Zone.TOP_LEFT,
    (Zone.PINK_START, Zone.BOTTOM_CENTRE_UPPER): Zone.BOTTOM_LEFT_CORNER,
    (Zone.PINK_START, Zone.BOTTOM_CENTRE_LOWER): Zone.BOTTOM_LEFT_CORNER,
    (Zone.PINK_START, Zone.TOP_RIGHT): Zone.TOP_LEFT,
    (Zone.PINK_START, Zone.BOTTOM_RIGHT_LOWER): Zone.BOTTOM_LEFT_CORNER,
    (Zone.PINK_START, Zone.BOTTOM_RIGHT_UPPER): Zone.BOTTOM_LEFT_CORNER,
    (Zone.PINK_START, Zone.RIGHT_TRANSITION): Zone.TOP_LEFT,
    (Zone.PINK_START, Zone.YELLOW_START): Zone.TOP_LEFT,
    (Zone.PINK_START, Zone.YELLOW_TOP_CORNER): Zone.TOP_LEFT,
    (Zone.PINK_START, Zone.BOTTOM_RIGHT_CORNER): Zone.BOTTOM_LEFT_CORNER,
    (Zone.PINK_TOP_CORNER, Zone.PINK_START): Zone.PINK_START,
    (Zone.PINK_TOP_CORNER, Zone.LEFT_TRANSITION): Zone.LEFT_TRANSITION,
    (Zone.PINK_TOP_CORNER, Zone.TOP_LEFT): Zone.TOP_LEFT,
    (Zone.PINK_TOP_CORNER, Zone.BOTTOM_LEFT_CORNER): Zone.PINK_START,
    (Zone.PINK_TOP_CORNER, Zone.BOTTOM_LEFT_UPPER): Zone.LEFT_TRANSITION,
    (Zone.PINK_TOP_CORNER, Zone.BOTTOM_LEFT_LOWER): Zone.LEFT_TRANSITION,
    (Zone.PINK_TOP_CORNER, Zone.TOP_CENTRE): Zone.TOP_LEFT,
    (Zone.PINK_TOP_CORNER, Zone.BOTTOM_CENTRE_LOWER): Zone.LEFT_TRANSITION,
    (Zone.PINK_TOP_CORNER, Zone.BOTTOM_CENTRE_UPPER): Zone.LEFT_TRANSITION,
    (Zone.PINK_TOP_CORNER, Zone.TOP_RIGHT): Zone.TOP_LEFT,
    (Zone.PINK_TOP_CORNER, Zone.BOTTOM_RIGHT_UPPER): Zone.LEFT_TRANSITION,
    (Zone.PINK_TOP_CORNER, Zone.BOTTOM_RIGHT_LOWER): Zone.LEFT_TRANSITION,
    (Zone.PINK_TOP_CORNER, Zone.RIGHT_TRANSITION): Zone.TOP_LEFT,
    (Zone.PINK_TOP_CORNER, Zone.YELLOW_START): Zone.TOP_LEFT,
    (Zone.PINK_TOP_CORNER, Zone.YELLOW_TOP_CORNER): Zone.TOP_LEFT,
    (Zone.PINK_TOP_CORNER, Zone.BOTTOM_RIGHT_CORNER): Zone.LEFT_TRANSITION,
    (Zone.BOTTOM_LEFT_CORNER, Zone.PINK_START): Zone.PINK_START,
    (Zone.BOTTOM_LEFT_CORNER, Zone.BOTTOM_LEFT_LOWER): Zone.BOTTOM_LEFT_LOWER,
    (Zone.BOTTOM_LEFT_CORNER, Zone.LEFT_TRANSITION): Zone.LEFT_TRANSITION,
    (Zone.BOTTOM_LEFT_CORNER, Zone.BOTTOM_LEFT_UPPER): Zone.BOTTOM_LEFT_UPPER,
    (Zone.BOTTOM_LEFT_CORNER, Zone.PINK_TOP_CORNER): Zone.PINK_START,
    (Zone.BOTTOM_LEFT_CORNER, Zone.TOP_LEFT): Zone.PINK_START,
    (Zone.BOTTOM_LEFT_CORNER, Zone.BOTTOM_CENTRE_UPPER): Zone.BOTTOM_LEFT_LOWER,
    (Zone.BOTTOM_LEFT_CORNER, Zone.BOTTOM_CENTRE_LOWER): Zone.BOTTOM_LEFT_LOWER,
    (Zone.BOTTOM_LEFT_CORNER, Zone.TOP_CENTRE): Zone.PINK_START,
    (Zone.BOTTOM_LEFT_CORNER, Zone.BOTTOM_RIGHT_LOWER): Zone.BOTTOM_LEFT_LOWER,
    (Zone.BOTTOM_LEFT_CORNER, Zone.BOTTOM_RIGHT_UPPER): Zone.BOTTOM_LEFT_LOWER,
    (Zone.BOTTOM_LEFT_CORNER, Zone.TOP_RIGHT): Zone.PINK_START,
    (Zone.BOTTOM_LEFT_CORNER, Zone.BOTTOM_RIGHT_CORNER): Zone.BOTTOM_LEFT_LOWER,
    (Zone.BOTTOM_LEFT_CORNER, Zone.RIGHT_TRANSITION): Zone.BOTTOM_LEFT_LOWER,
    (Zone.BOTTOM_LEFT_CORNER, Zone.YELLOW_START): Zone.PINK_START,
    (Zone.BOTTOM_LEFT_CORNER, Zone.YELLOW_TOP_CORNER): Zone.PINK_START,
    (Zone.YELLOW_START, Zone.BOTTOM_RIGHT_CORNER): Zone.BOTTOM_RIGHT_CORNER,
    (Zone.YELLOW_START, Zone.YELLOW_TOP_CORNER): Zone.YELLOW_TOP_CORNER,
    (Zone.YELLOW_START, Zone.RIGHT_TRANSITION): Zone.RIGHT_TRANSITION,
    (Zone.YELLOW_START, Zone.TOP_RIGHT): Zone.TOP_RIGHT,
    (Zone.YELLOW_START, Zone.BOTTOM_RIGHT_LOWER): Zone.BOTTOM_RIGHT_CORNER,
    (Zone.YELLOW_START, Zone.BOTTOM_RIGHT_UPPER): Zone.BOTTOM_RIGHT_CORNER,
    (Zone.YELLOW_START, Zone.TOP_CENTRE): Zone.TOP_RIGHT,
    (Zone.YELLOW_START, Zone.BOTTOM_CENTRE_UPPER): Zone.BOTTOM_RIGHT_CORNER,
    (Zone.YELLOW_START, Zone.BOTTOM_CENTRE_LOWER): Zone.BOTTOM_RIGHT_CORNER,
    (Zone.YELLOW_START, Zone.TOP_LEFT): Zone.TOP_RIGHT,
    (Zone.YELLOW_START, Zone.BOTTOM_LEFT_LOWER): Zone.BOTTOM_RIGHT_CORNER,
    (Zone.YELLOW_START, Zone.BOTTOM_LEFT_UPPER): Zone.BOTTOM_RIGHT_CORNER,
    (Zone.YELLOW_START, Zone.LEFT_TRANSITION): Zone.TOP_RIGHT,
    (Zone.YELLOW_START, Zone.PINK_START): Zone.TOP_RIGHT,
    (Zone.YELLOW_START, Zone.PINK_TOP_CORNER): Zone.TOP_RIGHT,
    (Zone.YELLOW_START, Zone.BOTTOM_LEFT_CORNER): Zone.BOTTOM_RIGHT_CORNER,
    (Zone.BOTTOM_RIGHT_CORNER, Zone.YELLOW_START): Zone.YELLOW_START,
    (Zone.BOTTOM_RIGHT_CORNER, Zone.BOTTOM_RIGHT_LOWER): Zone.BOTTOM_RIGHT_LOWER,
    (Zone.BOTTOM_RIGHT_CORNER, Zone.RIGHT_TRANSITION): Zone.RIGHT_TRANSITION,
    (Zone.BOTTOM_RIGHT_CORNER, Zone.BOTTOM_RIGHT_UPPER): Zone.BOTTOM_RIGHT_UPPER,
    (Zone.BOTTOM_RIGHT_CORNER, Zone.YELLOW_TOP_CORNER): Zone.YELLOW_START,
    (Zone.BOTTOM_RIGHT_CORNER, Zone.TOP_RIGHT): Zone.YELLOW_START,
    (Zone.BOTTOM_RIGHT_CORNER, Zone.BOTTOM_CENTRE_UPPER): Zone.BOTTOM_RIGHT_LOWER,
    (Zone.BOTTOM_RIGHT_CORNER, Zone.BOTTOM_CENTRE_LOWER): Zone.BOTTOM_RIGHT_UPPER,
    (Zone.BOTTOM_RIGHT_CORNER, Zone.TOP_CENTRE): Zone.YELLOW_START,
    (Zone.BOTTOM_RIGHT_CORNER, Zone.BOTTOM_LEFT_LOWER): Zone.BOTTOM_RIGHT_LOWER,
    (Zone.BOTTOM_RIGHT_CORNER, Zone.BOTTOM_LEFT_UPPER): Zone.BOTTOM_RIGHT_LOWER,
    (Zone.BOTTOM_RIGHT_CORNER, Zone.TOP_LEFT): Zone.YELLOW_START,
    (Zone.BOTTOM_RIGHT_CORNER, Zone.BOTTOM_LEFT_CORNER): Zone.BOTTOM_RIGHT_LOWER,
    (Zone.BOTTOM_RIGHT_CORNER, Zone.LEFT_TRANSITION): Zone.BOTTOM_RIGHT_LOWER,
    (Zone.BOTTOM_RIGHT_CORNER, Zone.PINK_START): Zone.YELLOW_START,
    (Zone.BOTTOM_RIGHT_CORNER, Zone.PINK_TOP_CORNER): Zone.YELLOW_START,
    (Zone.YELLOW_TOP_CORNER, Zone.YELLOW_START): Zone.YELLOW_START,
    (Zone.YELLOW_TOP_CORNER, Zone.RIGHT_TRANSITION): Zone.RIGHT_TRANSITION,
    (Zone.YELLOW_TOP_CORNER, Zone.TOP_RIGHT): Zone.TOP_RIGHT,
    (Zone.YELLOW_TOP_CORNER, Zone.BOTTOM_RIGHT_CORNER): Zone.YELLOW_START,
    (Zone.YELLOW_TOP_CORNER, Zone.BOTTOM_RIGHT_UPPER): Zone.RIGHT_TRANSITION,
    (Zone.YELLOW_TOP_CORNER, Zone.BOTTOM_RIGHT_LOWER): Zone.RIGHT_TRANSITION,
    (Zone.YELLOW_TOP_CORNER, Zone.TOP_CENTRE): Zone.TOP_RIGHT,
    (Zone.YELLOW_TOP_CORNER, Zone.BOTTOM_CENTRE_LOWER): Zone.RIGHT_TRANSITION,
    (Zone.YELLOW_TOP_CORNER, Zone.BOTTOM_CENTRE_UPPER): Zone.RIGHT_TRANSITION,
    (Zone.YELLOW_TOP_CORNER, Zone.TOP_LEFT): Zone.TOP_RIGHT,
    (Zone.YELLOW_TOP_CORNER, Zone.BOTTOM_LEFT_LOWER): Zone.RIGHT_TRANSITION,
    (Zone.YELLOW_TOP_CORNER, Zone.BOTTOM_LEFT_UPPER): Zone.RIGHT_TRANSITION,
    (Zone.YELLOW_TOP_CORNER, Zone.LEFT_TRANSITION): Zone.TOP_RIGHT,
    (Zone.YELLOW_TOP_CORNER, Zone.PINK_START): Zone.TOP_RIGHT,
    (Zone.YELLOW_TOP_CORNER, Zone.PINK_TOP_CORNER): Zone.TOP_RIGHT,
    (Zone.YELLOW_TOP_CORNER, Zone.BOTTOM_LEFT_CORNER): Zone.RIGHT_TRANSITION,
    (Zone.BOTTOM_CENTRE_UPPER, Zone.BOTTOM_LEFT_LOWER): Zone.BOTTOM_LEFT_LOWER,
    (Zone.BOTTOM_CENTRE_UPPER, Zone.BOTTOM_RIGHT_LOWER): Zone.BOTTOM_RIGHT_LOWER,
    (Zone.BOTTOM_CENTRE_UPPER, Zone.BOTTOM_CENTRE_LOWER): Zone.BOTTOM_CENTRE_LOWER,
    (Zone.BOTTOM_CENTRE_UPPER, Zone.BOTTOM_LEFT_UPPER): Zone.BOTTOM_LEFT_UPPER,
    (Zone.BOTTOM_CENTRE_UPPER, Zone.BOTTOM_RIGHT_UPPER): Zone.BOTTOM_RIGHT_UPPER,
    (Zone.BOTTOM_CENTRE_UPPER, Zone.BOTTOM_LEFT_CORNER): Zone.BOTTOM_LEFT_LOWER,
    (Zone.BOTTOM_CENTRE_UPPER, Zone.LEFT_TRANSITION): Zone.BOTTOM_LEFT_LOWER,
    (Zone.BOTTOM_CENTRE_UPPER, Zone.BOTTOM_RIGHT_CORNER): Zone.BOTTOM_RIGHT_LOWER,
    (Zone.BOTTOM_CENTRE_UPPER, Zone.RIGHT_TRANSITION): Zone.BOTTOM_RIGHT_LOWER,
    (Zone.BOTTOM_CENTRE_UPPER, Zone.PINK_START): Zone.BOTTOM_LEFT_LOWER,
    (Zone.BOTTOM_CENTRE_UPPER, Zone.TOP_LEFT): Zone.BOTTOM_LEFT_LOWER,
    (Zone.BOTTOM_CENTRE_UPPER, Zone.PINK_TOP_CORNER): Zone.BOTTOM_LEFT_LOWER,
    (Zone.BOTTOM_CENTRE_UPPER, Zone.YELLOW_START): Zone.BOTTOM_RIGHT_LOWER,
    (Zone.BOTTOM_CENTRE_UPPER, Zone.TOP_RIGHT): Zone.BOTTOM_RIGHT_LOWER,
    (Zone.BOTTOM_CENTRE_UPPER, Zone.YELLOW_TOP_CORNER): Zone.BOTTOM_RIGHT_LOWER,
    (Zone.BOTTOM_CENTRE_UPPER, Zone.TOP_CENTRE): Zone.BOTTOM_LEFT_LOWER,
    (Zone.BOTTOM_LEFT_LOWER, Zone.BOTTOM_CENTRE_UPPER): Zone.BOTTOM_CENTRE_UPPER,
    (Zone.BOTTOM_LEFT_LOWER, Zone.BOTTOM_CENTRE_LOWER): Zone.BOTTOM_CENTRE_LOWER,
    (Zone.BOTTOM_LEFT_LOWER, Zone.BOTTOM_LEFT_UPPER): Zone.BOTTOM_LEFT_UPPER,
    (Zone.BOTTOM_LEFT_LOWER, Zone.BOTTOM_LEFT_CORNER): Zone.BOTTOM_LEFT_CORNER,
    (Zone.BOTTOM_LEFT_LOWER, Zone.LEFT_TRANSITION): Zone.LEFT_TRANSITION,
    (Zone.BOTTOM_LEFT_LOWER, Zone.BOTTOM_RIGHT_LOWER): Zone.BOTTOM_CENTRE_UPPER,
    (Zone.BOTTOM_LEFT_LOWER, Zone.BOTTOM_RIGHT_UPPER): Zone.BOTTOM_CENTRE_UPPER,
    (Zone.BOTTOM_LEFT_LOWER, Zone.PINK_START): Zone.BOTTOM_LEFT_CORNER,
    (Zone.BOTTOM_LEFT_LOWER, Zone.TOP_LEFT): Zone.LEFT_TRANSITION,
    (Zone.BOTTOM_LEFT_LOWER, Zone.PINK_TOP_CORNER): Zone.LEFT_TRANSITION,
    (Zone.BOTTOM_LEFT_LOWER, Zone.BOTTOM_RIGHT_CORNER): Zone.BOTTOM_CENTRE_UPPER,
    (Zone.BOTTOM_LEFT_LOWER, Zone.RIGHT_TRANSITION): Zone.BOTTOM_CENTRE_UPPER,
    (Zone.BOTTOM_LEFT_LOWER, Zone.TOP_CENTRE): Zone.LEFT_TRANSITION,
    (Zone.BOTTOM_LEFT_LOWER, Zone.YELLOW_START): Zone.BOTTOM_CENTRE_UPPER,
    (Zone.BOTTOM_LEFT_LOWER, Zone.TOP_RIGHT): Zone.BOTTOM_CENTRE_UPPER,
    (Zone.BOTTOM_LEFT_LOWER, Zone.YELLOW_TOP_CORNER): Zone.BOTTOM_CENTRE_UPPER,
    (Zone.BOTTOM_RIGHT_LOWER, Zone.BOTTOM_CENTRE_UPPER): Zone.BOTTOM_CENTRE_UPPER,
    (Zone.BOTTOM_RIGHT_LOWER, Zone.BOTTOM_RIGHT_UPPER): Zone.BOTTOM_RIGHT_UPPER,
    (Zone.BOTTOM_RIGHT_LOWER, Zone.BOTTOM_RIGHT_CORNER): Zone.BOTTOM_RIGHT_CORNER,
    (Zone.BOTTOM_RIGHT_LOWER, Zone.RIGHT_TRANSITION): Zone.RIGHT_TRANSITION,
    (Zone.BOTTOM_RIGHT_LOWER, Zone.BOTTOM_LEFT_LOWER): Zone.BOTTOM_CENTRE_UPPER,
    (Zone.BOTTOM_RIGHT_LOWER, Zone.BOTTOM_CENTRE_LOWER): Zone.BOTTOM_CENTRE_UPPER,
    (Zone.BOTTOM_RIGHT_LOWER, Zone.BOTTOM_LEFT_UPPER): Zone.BOTTOM_CENTRE_UPPER,
    (Zone.BOTTOM_RIGHT_LOWER, Zone.YELLOW_START): Zone.BOTTOM_RIGHT_CORNER,
    (Zone.BOTTOM_RIGHT_LOWER, Zone.TOP_RIGHT): Zone.RIGHT_TRANSITION,
    (Zone.BOTTOM_RIGHT_LOWER, Zone.YELLOW_TOP_CORNER): Zone.RIGHT_TRANSITION,
    (Zone.BOTTOM_RIGHT_LOWER, Zone.BOTTOM_LEFT_CORNER): Zone.BOTTOM_CENTRE_UPPER,
    (Zone.BOTTOM_RIGHT_LOWER, Zone.LEFT_TRANSITION): Zone.BOTTOM_CENTRE_UPPER,
    (Zone.BOTTOM_RIGHT_LOWER, Zone.TOP_CENTRE): Zone.RIGHT_TRANSITION,
    (Zone.BOTTOM_RIGHT_LOWER, Zone.PINK_START): Zone.BOTTOM_CENTRE_UPPER,
    (Zone.BOTTOM_RIGHT_LOWER, Zone.TOP_LEFT): Zone.BOTTOM_CENTRE_UPPER,
    (Zone.BOTTOM_RIGHT_LOWER, Zone.PINK_TOP_CORNER): Zone.BOTTOM_CENTRE_UPPER,
    (Zone.BOTTOM_CENTRE_LOWER, Zone.BOTTOM_LEFT_LOWER): Zone.BOTTOM_LEFT_LOWER,
    (Zone.BOTTOM_CENTRE_LOWER, Zone.BOTTOM_LEFT_UPPER): Zone.BOTTOM_LEFT_UPPER,
    (Zone.BOTTOM_CENTRE_LOWER, Zone.BOTTOM_RIGHT_UPPER): Zone.BOTTOM_RIGHT_UPPER,
    (Zone.BOTTOM_CENTRE_LOWER, Zone.BOTTOM_CENTRE_UPPER): Zone.BOTTOM_CENTRE_UPPER,
    (Zone.BOTTOM_CENTRE_LOWER, Zone.BOTTOM_LEFT_CORNER): Zone.BOTTOM_LEFT_LOWER,
    (Zone.BOTTOM_CENTRE_LOWER, Zone.LEFT_TRANSITION): Zone.BOTTOM_LEFT_LOWER,
    (Zone.BOTTOM_CENTRE_LOWER, Zone.BOTTOM_RIGHT_LOWER): Zone.BOTTOM_RIGHT_UPPER,
    (Zone.BOTTOM_CENTRE_LOWER, Zone.RIGHT_TRANSITION): Zone.BOTTOM_RIGHT_UPPER,
    (Zone.BOTTOM_CENTRE_LOWER, Zone.BOTTOM_RIGHT_CORNER): Zone.BOTTOM_RIGHT_UPPER,
    (Zone.BOTTOM_CENTRE_LOWER, Zone.PINK_START): Zone.BOTTOM_LEFT_LOWER,
    (Zone.BOTTOM_CENTRE_LOWER, Zone.TOP_LEFT): Zone.BOTTOM_LEFT_LOWER,
    (Zone.BOTTOM_CENTRE_LOWER, Zone.PINK_TOP_CORNER): Zone.BOTTOM_LEFT_LOWER,
    (Zone.BOTTOM_CENTRE_LOWER, Zone.TOP_RIGHT): Zone.BOTTOM_RIGHT_UPPER,
    (Zone.BOTTOM_CENTRE_LOWER, Zone.YELLOW_START): Zone.BOTTOM_RIGHT_UPPER,
    (Zone.BOTTOM_CENTRE_LOWER, Zone.YELLOW_TOP_CORNER): Zone.BOTTOM_RIGHT_UPPER,
    (Zone.BOTTOM_CENTRE_LOWER, Zone.TOP_CENTRE): Zone.BOTTOM_LEFT_LOWER,
    (Zone.BOTTOM_LEFT_UPPER, Zone.BOTTOM_LEFT_LOWER): Zone.BOTTOM_LEFT_LOWER,
    (Zone.BOTTOM_LEFT_UPPER, Zone.BOTTOM_CENTRE_LOWER): Zone.BOTTOM_CENTRE_LOWER,
    (Zone.BOTTOM_LEFT_UPPER, Zone.LEFT_TRANSITION): Zone.LEFT_TRANSITION,
    (Zone.BOTTOM_LEFT_UPPER, Zone.BOTTOM_CENTRE_UPPER): Zone.BOTTOM_CENTRE_UPPER,
    (Zone.BOTTOM_LEFT_UPPER, Zone.BOTTOM_LEFT_CORNER): Zone.BOTTOM_LEFT_CORNER,
    (Zone.BOTTOM_LEFT_UPPER, Zone.BOTTOM_RIGHT_UPPER): Zone.BOTTOM_CENTRE_LOWER,
    (Zone.BOTTOM_LEFT_UPPER, Zone.TOP_LEFT): Zone.LEFT_TRANSITION,
    (Zone.BOTTOM_LEFT_UPPER, Zone.PINK_START): Zone.LEFT_TRANSITION,
    (Zone.BOTTOM_LEFT_UPPER, Zone.PINK_TOP_CORNER): Zone.LEFT_TRANSITION,
    (Zone.BOTTOM_LEFT_UPPER, Zone.BOTTOM_RIGHT_LOWER): Zone.BOTTOM_CENTRE_UPPER,
    (Zone.BOTTOM_LEFT_UPPER, Zone.RIGHT_TRANSITION): Zone.BOTTOM_CENTRE_LOWER,
    (Zone.BOTTOM_LEFT_UPPER, Zone.BOTTOM_RIGHT_CORNER): Zone.BOTTOM_CENTRE_LOWER,
    (Zone.BOTTOM_LEFT_UPPER, Zone.TOP_CENTRE): Zone.LEFT_TRANSITION,
    (Zone.BOTTOM_LEFT_UPPER, Zone.TOP_RIGHT): Zone.BOTTOM_CENTRE_LOWER,
    (Zone.BOTTOM_LEFT_UPPER, Zone.YELLOW_START): Zone.BOTTOM_CENTRE_LOWER,
    (Zone.BOTTOM_LEFT_UPPER, Zone.YELLOW_TOP_CORNER): Zone.BOTTOM_CENTRE_LOWER,
    (Zone.BOTTOM_RIGHT_UPPER, Zone.BOTTOM_RIGHT_LOWER): Zone.BOTTOM_RIGHT_LOWER,
    (Zone.BOTTOM_RIGHT_UPPER, Zone.BOTTOM_CENTRE_LOWER): Zone.BOTTOM_CENTRE_LOWER,
    (Zone.BOTTOM_RIGHT_UPPER, Zone.RIGHT_TRANSITION): Zone.RIGHT_TRANSITION,
    (Zone.BOTTOM_RIGHT_UPPER, Zone.BOTTOM_CENTRE_UPPER): Zone.BOTTOM_CENTRE_UPPER,
    (Zone.BOTTOM_RIGHT_UPPER, Zone.BOTTOM_RIGHT_CORNER): Zone.BOTTOM_RIGHT_CORNER,
    (Zone.BOTTOM_RIGHT_UPPER, Zone.BOTTOM_LEFT_LOWER): Zone.BOTTOM_CENTRE_LOWER,
    (Zone.BOTTOM_RIGHT_UPPER, Zone.BOTTOM_LEFT_UPPER): Zone.BOTTOM_CENTRE_LOWER,
    (Zone.BOTTOM_RIGHT_UPPER, Zone.TOP_RIGHT): Zone.RIGHT_TRANSITION,
    (Zone.BOTTOM_RIGHT_UPPER, Zone.YELLOW_START): Zone.RIGHT_TRANSITION,
    (Zone.BOTTOM_RIGHT_UPPER, Zone.YELLOW_TOP_CORNER): Zone.RIGHT_TRANSITION,
    (Zone.BOTTOM_RIGHT_UPPER, Zone.BOTTOM_LEFT_CORNER): Zone.BOTTOM_CENTRE_LOWER,
    (Zone.BOTTOM_RIGHT_UPPER, Zone.LEFT_TRANSITION): Zone.BOTTOM_CENTRE_LOWER,
    (Zone.BOTTOM_RIGHT_UPPER, Zone.TOP_CENTRE): Zone.RIGHT_TRANSITION,
    (Zone.BOTTOM_RIGHT_UPPER, Zone.PINK_START): Zone.BOTTOM_CENTRE_LOWER,
    (Zone.BOTTOM_RIGHT_UPPER, Zone.TOP_LEFT): Zone.BOTTOM_CENTRE_LOWER,
    (Zone.BOTTOM_RIGHT_UPPER, Zone.PINK_TOP_CORNER): Zone.BOTTOM_CENTRE_LOWER,
    (Zone.LEFT_TRANSITION, Zone.BOTTOM_LEFT_UPPER): Zone.BOTTOM_LEFT_UPPER,
    (Zone.LEFT_TRANSITION, Zone.TOP_LEFT): Zone.TOP_LEFT,
    (Zone.LEFT_TRANSITION, Zone.PINK_START): Zone.PINK_START,
    (Zone.LEFT_TRANSITION, Zone.PINK_TOP_CORNER): Zone.PINK_TOP_CORNER,
    (Zone.LEFT_TRANSITION, Zone.BOTTOM_LEFT_CORNER): Zone.BOTTOM_LEFT_CORNER,
    (Zone.LEFT_TRANSITION, Zone.BOTTOM_LEFT_LOWER): Zone.BOTTOM_LEFT_LOWER,
    (Zone.LEFT_TRANSITION, Zone.BOTTOM_CENTRE_LOWER): Zone.BOTTOM_LEFT_UPPER,
    (Zone.LEFT_TRANSITION, Zone.BOTTOM_CENTRE_UPPER): Zone.BOTTOM_LEFT_UPPER,
    (Zone.LEFT_TRANSITION, Zone.TOP_CENTRE): Zone.TOP_LEFT,
    (Zone.LEFT_TRANSITION, Zone.BOTTOM_RIGHT_UPPER): Zone.BOTTOM_LEFT_UPPER,
    (Zone.LEFT_TRANSITION, Zone.BOTTOM_RIGHT_LOWER): Zone.BOTTOM_LEFT_UPPER,
    (Zone.LEFT_TRANSITION, Zone.TOP_RIGHT): Zone.TOP_LEFT,
    (Zone.LEFT_TRANSITION, Zone.RIGHT_TRANSITION): Zone.BOTTOM_LEFT_UPPER,
    (Zone.LEFT_TRANSITION, Zone.BOTTOM_RIGHT_CORNER): Zone.BOTTOM_LEFT_UPPER,
    (Zone.LEFT_TRANSITION, Zone.YELLOW_START): Zone.TOP_LEFT,
    (Zone.LEFT_TRANSITION, Zone.YELLOW_TOP_CORNER): Zone.TOP_LEFT,
    (Zone.RIGHT_TRANSITION, Zone.BOTTOM_RIGHT_UPPER): Zone.BOTTOM_RIGHT_UPPER,
    (Zone.RIGHT_TRANSITION, Zone.TOP_RIGHT): Zone.TOP_RIGHT,
    (Zone.RIGHT_TRANSITION, Zone.YELLOW_START): Zone.YELLOW_START,
    (Zone.RIGHT_TRANSITION, Zone.YELLOW_TOP_CORNER): Zone.YELLOW_TOP_CORNER,
    (Zone.RIGHT_TRANSITION, Zone.BOTTOM_RIGHT_CORNER): Zone.BOTTOM_RIGHT_CORNER,
    (Zone.RIGHT_TRANSITION, Zone.BOTTOM_RIGHT_LOWER): Zone.BOTTOM_RIGHT_LOWER,
    (Zone.RIGHT_TRANSITION, Zone.BOTTOM_CENTRE_LOWER): Zone.BOTTOM_RIGHT_UPPER,
    (Zone.RIGHT_TRANSITION, Zone.BOTTOM_CENTRE_UPPER): Zone.BOTTOM_RIGHT_UPPER,
    (Zone.RIGHT_TRANSITION, Zone.TOP_CENTRE): Zone.TOP_RIGHT,
    (Zone.RIGHT_TRANSITION, Zone.BOTTOM_LEFT_LOWER): Zone.BOTTOM_RIGHT_UPPER,
    (Zone.RIGHT_TRANSITION, Zone.BOTTOM_LEFT_UPPER): Zone.BOTTOM_RIGHT_UPPER,
    (Zone.RIGHT_TRANSITION, Zone.TOP_LEFT): Zone.TOP_RIGHT,
    (Zone.RIGHT_TRANSITION, Zone.BOTTOM_LEFT_CORNER): Zone.BOTTOM_RIGHT_UPPER,
    (Zone.RIGHT_TRANSITION, Zone.LEFT_TRANSITION): Zone.BOTTOM_RIGHT_UPPER,
    (Zone.RIGHT_TRANSITION, Zone.PINK_START): Zone.TOP_RIGHT,
    (Zone.RIGHT_TRANSITION, Zone.PINK_TOP_CORNER): Zone.TOP_RIGHT,
    (Zone.TOP_LEFT, Zone.LEFT_TRANSITION): Zone.LEFT_TRANSITION,
    (Zone.TOP_LEFT, Zone.TOP_CENTRE): Zone.TOP_CENTRE,
    (Zone.TOP_LEFT, Zone.PINK_START): Zone.PINK_START,
    (Zone.TOP_LEFT, Zone.PINK_TOP_CORNER): Zone.PINK_TOP_CORNER,
    (Zone.TOP_LEFT, Zone.BOTTOM_LEFT_UPPER): Zone.LEFT_TRANSITION,
    (Zone.TOP_LEFT, Zone.BOTTOM_LEFT_CORNER): Zone.LEFT_TRANSITION,
    (Zone.TOP_LEFT, Zone.BOTTOM_LEFT_LOWER): Zone.LEFT_TRANSITION,
    (Zone.TOP_LEFT, Zone.TOP_RIGHT): Zone.TOP_CENTRE,
    (Zone.TOP_LEFT, Zone.BOTTOM_CENTRE_LOWER): Zone.LEFT_TRANSITION,
    (Zone.TOP_LEFT, Zone.BOTTOM_CENTRE_UPPER): Zone.LEFT_TRANSITION,
    (Zone.TOP_LEFT, Zone.RIGHT_TRANSITION): Zone.TOP_CENTRE,
    (Zone.TOP_LEFT, Zone.YELLOW_START): Zone.TOP_CENTRE,
    (Zone.TOP_LEFT, Zone.YELLOW_TOP_CORNER): Zone.TOP_CENTRE,
    (Zone.TOP_LEFT, Zone.BOTTOM_RIGHT_UPPER): Zone.LEFT_TRANSITION,
    (Zone.TOP_LEFT, Zone.BOTTOM_RIGHT_LOWER): Zone.LEFT_TRANSITION,
    (Zone.TOP_LEFT, Zone.BOTTOM_RIGHT_CORNER): Zone.TOP_CENTRE,
    (Zone.TOP_RIGHT, Zone.RIGHT_TRANSITION): Zone.RIGHT_TRANSITION,
    (Zone.TOP_RIGHT, Zone.TOP_CENTRE): Zone.TOP_CENTRE,
    (Zone.TOP_RIGHT, Zone.YELLOW_START): Zone.YELLOW_START,
    (Zone.TOP_RIGHT, Zone.YELLOW_TOP_CORNER): Zone.YELLOW_TOP_CORNER,
    (Zone.TOP_RIGHT, Zone.BOTTOM_RIGHT_UPPER): Zone.RIGHT_TRANSITION,
    (Zone.TOP_RIGHT, Zone.BOTTOM_RIGHT_CORNER): Zone.RIGHT_TRANSITION,
    (Zone.TOP_RIGHT, Zone.BOTTOM_RIGHT_LOWER): Zone.RIGHT_TRANSITION,
    (Zone.TOP_RIGHT, Zone.TOP_LEFT): Zone.TOP_CENTRE,
    (Zone.TOP_RIGHT, Zone.BOTTOM_CENTRE_LOWER): Zone.RIGHT_TRANSITION,
    (Zone.TOP_RIGHT, Zone.BOTTOM_CENTRE_UPPER): Zone.RIGHT_TRANSITION,
    (Zone.TOP_RIGHT, Zone.LEFT_TRANSITION): Zone.TOP_CENTRE,
    (Zone.TOP_RIGHT, Zone.PINK_START): Zone.TOP_CENTRE,
    (Zone.TOP_RIGHT, Zone.PINK_TOP_CORNER): Zone.TOP_CENTRE,
    (Zone.TOP_RIGHT, Zone.BOTTOM_LEFT_LOWER): Zone.RIGHT_TRANSITION,
    (Zone.TOP_RIGHT, Zone.BOTTOM_LEFT_UPPER): Zone.RIGHT_TRANSITION,
    (Zone.TOP_RIGHT, Zone.BOTTOM_LEFT_CORNER): Zone.TOP_CENTRE,
    (Zone.TOP_CENTRE, Zone.TOP_LEFT): Zone.TOP_LEFT,
    (Zone.TOP_CENTRE, Zone.TOP_RIGHT): Zone.TOP_RIGHT,
    (Zone.TOP_CENTRE, Zone.LEFT_TRANSITION): Zone.TOP_LEFT,
    (Zone.TOP_CENTRE, Zone.PINK_START): Zone.TOP_LEFT,
    (Zone.TOP_CENTRE, Zone.PINK_TOP_CORNER): Zone.TOP_LEFT,
    (Zone.TOP_CENTRE, Zone.RIGHT_TRANSITION): Zone.TOP_RIGHT,
    (Zone.TOP_CENTRE, Zone.YELLOW_START): Zone.TOP_RIGHT,
    (Zone.TOP_CENTRE, Zone.YELLOW_TOP_CORNER): Zone.TOP_RIGHT,
    (Zone.TOP_CENTRE, Zone.BOTTOM_LEFT_UPPER): Zone.TOP_LEFT,
    (Zone.TOP_CENTRE, Zone.BOTTOM_LEFT_CORNER): Zone.TOP_LEFT,
    (Zone.TOP_CENTRE, Zone.BOTTOM_LEFT_LOWER): Zone.TOP_LEFT,
    (Zone.TOP_CENTRE, Zone.BOTTOM_RIGHT_UPPER): Zone.TOP_RIGHT,
    (Zone.TOP_CENTRE, Zone.BOTTOM_RIGHT_CORNER): Zone.TOP_RIGHT,
    (Zone.TOP_CENTRE, Zone.BOTTOM_RIGHT_LOWER): Zone.TOP_RIGHT,
    (Zone.TOP_CENTRE, Zone.BOTTOM_CENTRE_LOWER): Zone.TOP_LEFT,
    (Zone.TOP_CENTRE, Zone.BOTTOM_CENTRE_UPPER): Zone.TOP_LEFT,
}


for zone in Zone:
    if get_zone(ZONE_CENTRES[zone]) != zone:
        raise AssertionError(f"{zone} centre point is not inside zone")


def get_next_hop(from_zone: Zone, to_loc: Location, dropped: bool) -> Tuple[Zone, bool]:
    to_zone = get_zone(to_loc)

    if from_zone == to_zone:
        return to_zone, True

    routing_table = ROUTING_POST_DROP if dropped else ROUTING_PRE_DROP

    next_hop = routing_table[from_zone, to_zone]
    return next_hop, next_hop == to_zone


def is_direct_routable(from_zone: Zone, to_loc: Location, dropped: bool) -> bool:
    return get_next_hop(from_zone, to_loc, dropped)[1]
